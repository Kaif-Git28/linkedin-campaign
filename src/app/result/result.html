<header class="header">
  <div class="nav-container">
    <div class="logo">
      <img src="logo.svg" alt="Bajaj Finserv" class="logo-img" />
    </div>
    <button class="menu-toggle" aria-label="Menu" type="button" (click)="toggleMenu()">
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
    </button>
  </div>
  <div class="company-subtitle">BAJAJ TECHNOLOGY SERVICES</div>
</header>

<main class="page">
  <section class="score-card" role="region" aria-labelledby="overallScoreTitle">
    <h2 id="overallScoreTitle" class="score-heading">Your Overall Score</h2>

    <div class="card">
      <!-- visual -->
      <div class="score-visual">
        <div
          class="radial"
          [ngClass]="{ 'at-risk': stageLabel === 'At Risk' }"
          aria-hidden="true"
          [ngStyle]="{ background: radialBackground }"
          [attr.data-percent]="percentage"
        >
          <div class="radial-inner">
            <div class="score-display">{{ percentage }}%</div>
          </div>
        </div>

        <div class="status">
          <span class="status-badge"
            [ngClass]="{
              'fail': getStageStatus() === 'FAIL',
              'needs-improvement': getStageStatus() === 'Needs Improvement',
              'pass': getStageStatus() === 'PASS',
              'pass-excellence': getStageStatus() === 'PASS WITH EXCELLENCE'
            }"
            aria-live="polite"
          >
            {{ getStageStatus() }}
          </span>
        </div>
      </div>

      <!-- central body -->
      <div class="card-body" [ngClass]="{ 'at-risk': stageLabel === 'At Risk' }">
        <h3 class="card-title">
          SFDC Success Assessment
          <span class="muted" [ngClass]="getStageLabelColorClass()">{{ stageLabel }}</span>
        </h3>

        <p class="card-desc">{{ stageMessage }}</p>

        <div class="pills" aria-hidden="false">
          <span class="pill" *ngFor="let p of pills" [ngClass]="p.class">{{ p.text }}</span>
        </div>
      </div>

      <!-- right-hand detailed message column (structured) -->
      <div class="message-column"
           [ngClass]="{
             'at-risk': stageLabel === 'At Risk',
             'needs-improvement': getStageStatus() === 'Needs Improvement',
             'excellence': getStageStatus() === 'PASS WITH EXCELLENCE'
           }"
           aria-label="Recommended actions">

        <!-- small table-like header -->
        <div class="message-meta">
          <div class="meta-row">
            <div class="meta-label">Status</div>
            <div class="meta-value">
              <span
                class="meta-badge"
                [ngClass]="{
                  'meta-fail': getStageStatus() === 'FAIL',
                  'meta-needs': getStageStatus() === 'Needs Improvement',
                  'meta-pass': getStageStatus() === 'PASS',
                  'meta-exc': getStageStatus() === 'PASS WITH EXCELLENCE'
                }"
              >
                {{ getStageStatus() }}
              </span>
            </div>
          </div>

          <!-- <div class="meta-row">
            <div class="meta-label">Points</div>
            <div class="meta-value">{{ getStagePoints() }}</div>
          </div> -->

          <div class="meta-row">
            <div class="meta-label">Stage</div>
            <div class="meta-value">{{ getStageStage() }}</div>
          </div>
        </div>

        <hr class="meta-sep" />

        <!-- Render parsed message sections -->
        <div class="message-body">
          <ng-container *ngFor="let s of parsedSections">
            <p class="msg-paragraph" *ngIf="s.kind === 'paragraph'">{{ s['text'] }}</p>

            <div class="msg-heading" *ngIf="s.kind === 'heading'">{{ s['text'] }}</div>

            <ul class="msg-list" *ngIf="s.kind === 'list'">
              <li *ngFor="let it of s['items']">{{ it }}</li>
            </ul>
          </ng-container>
        </div>
      </div>
    </div>
  </section>
</main>


<section class="contact-cta" aria-labelledby="contactCtaTitle">
  <div class="contact-inner">
    <h3 id="contactCtaTitle" class="contact-title">
      Our experts will get in touch with you!
    </h3>
  </div>
</section>

<footer class="footer" role="contentinfo" aria-label="Footer">
  <div class="footer-sections">
    <div class="footer-col">
      <h4>Our Practices</h4>
      <ul>
        <li>Experience</li>
        <li>Commerce</li>
        <li>Engineering</li>
        <li>CRM</li>
        <li>Data &amp; AI</li>
        <li>Cloud</li>
        <li>Digital Agency</li>
        <li>Emerging Tech</li>
      </ul>
    </div>

    <div class="footer-col">
      <h4>Domain Expertise</h4>
      <ul>
        <li>Financial Services</li>
        <li>Insurance</li>
        <li>E-commerce</li>
      </ul>
    </div>

    <div class="footer-col">
      <h4>Company</h4>
      <ul>
        <li>Home</li>
        <li>About Us</li>
        <li>Success Stories</li>
        <li>Blogs</li>
        <li>Our People</li>
        <li>Contact Us</li>
      </ul>
    </div>

    <div class="footer-col">
      <h4>Legal</h4>
      <ul>
        <li>Terms and Conditions</li>
        <li>Privacy Policy</li>
        <li>Investor Relations</li>
      </ul>
    </div>
  </div>

  <div class="locations">
    <div class="locations-inner">
      <h4>India</h4>
      <p>
        <strong>Pune - Head Office</strong><br />4th floor, B2, Cerebrum IT
        Park, Kalyani Nagar, Pune, Maharashtra - 411014
      </p>

      <p>
        <strong>Pune - Global Delivery Hub</strong><br />6th floor, B1, Cerebrum
        IT Park, Kalyani Nagar, Pune, Maharashtra - 411014
      </p>

      <p>
        <strong>Mumbai</strong><br />Bajaj Finserv Ltd, 19th Floor, Capitol,
        Bandra Kurla Complex, Mumbai, Maharashtra - 400051
      </p>
    </div>
  </div>

  <div class="contact">
    <p>
      Email:
      <a href="mailto:info@bajajtechnologyservices.com"
        >info@bajajtechnologyservices.com</a
      >
    </p>
    <p>Ph. No.: 020-716342000 (Mon to Sat - 10 am to 7 pm IST)</p>
  </div>

  <div class="legal">
    <p>
      Bajaj Finserv Direct Limited Registered Office:<br />
      Bajaj Auto Limited Complex, Mumbai – Pune Road, Akurdi, Pune – 411 035
      CIN: U65923PN2014PLC150522<br />
      Corporate Agency (Composite) Registration no.CA0551 (valid till
      10–Apr–2027) Investment Adviser, SEBI registration: INA000016083 (Validity
      – Aug 11, 2021 – Perpetual)
    </p>
  </div>
</footer>
